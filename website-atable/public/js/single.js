const queryString=window.location.search,urlParams=new URLSearchParams(queryString),id=urlParams.get("id");function show_cooker(e){var o=window.localStorage.getItem("BearerToken");$.ajax({url:$apiUrl+"/user/"+e.user_id,headers:{Authorization:`Bearer ${o}`},type:"GET",dataType:"json",success:function(e){document.getElementById("cooker_name").innerText=e.first_name+" "+e.last_name,document.getElementById("cooker_desc").innerText=e.description,0==e.delivery?document.getElementById("dish_delivery").innerText="A emporter de chez notre cooker !":document.getElementById("dish_delivery").innerText="Livré par noter cooker !",console.log(e)},error:function(e){console.log(e)}})}function show_dish(e){var o=window.localStorage.getItem("BearerToken");e.photo_content?document.getElementById("dish_pic").src="data:image/jpeg;base64,"+e.photo_content:document.getElementById("dish_pic").src="images/"+e.photo_path,document.getElementById("dish_name").innerText=e.name,document.getElementById("dish_price").innerText=e.price+"€",document.getElementById("dish_desc").innerText=e.description,document.getElementById("dish_date").innerText="Disponible jusqu'au "+e.expiration_date,$.ajax({url:$apiUrl+"/cooker/"+e.cooker_id,headers:{Authorization:`Bearer ${o}`},type:"GET",dataType:"json",success:function(e){show_cooker(e),console.log(e)},error:function(e){console.log(e)}})}function add_cart_from_item(){add_cart(id)}$(document).ready(function(){var e=window.localStorage.getItem("BearerToken");$.ajax({url:$apiUrl+"/dish/"+id,headers:{Authorization:`Bearer ${e}`},type:"GET",dataType:"json",success:function(e){show_dish(e),console.log(e)},error:function(e){console.log(e)}})});
